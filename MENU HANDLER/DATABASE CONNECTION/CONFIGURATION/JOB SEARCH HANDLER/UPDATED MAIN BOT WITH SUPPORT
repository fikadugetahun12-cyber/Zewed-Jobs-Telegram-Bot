# Add to imports
from handlers.support import (
    support, contact_support, handle_support_message,
    faq, report_issue, handle_report, handle_general_message
)
from handlers.admin_support import admin_support_dashboard, respond_to_ticket, handle_admin_response

def main():
    # ... existing code ...
    
    # Add support command
    application.add_handler(CommandHandler("support", support))
    application.add_handler(CommandHandler("help", support))  # Alias
    application.add_handler(CommandHandler("faq", faq))
    
    # Add admin support commands
    application.add_handler(CommandHandler("admin_support", admin_support_dashboard))
    
    # Handle /respond_<ticket_id> commands
    application.add_handler(MessageHandler(
        filters.Regex(r'^/respond_\d+$'), 
        respond_to_ticket
    ))
    
    # Add callback handlers for support
    application.add_handler(CallbackQueryHandler(contact_support, pattern="^contact_support$"))
    application.add_handler(CallbackQueryHandler(faq, pattern="^faq$"))
    application.add_handler(CallbackQueryHandler(report_issue, pattern="^report_issue$"))
    application.add_handler(CallbackQueryHandler(support, pattern="^back_to_support$"))
    
    # Report type handlers
    application.add_handler(CallbackQueryHandler(handle_report, pattern="^report_"))
    
    # Handle general messages (for support)
    application.add_handler(MessageHandler(
        filters.TEXT & ~filters.COMMAND, 
        handle_support_message
    ))
    
    # Handle admin responses
    application.add_handler(MessageHandler(
        filters.TEXT & ~filters.COMMAND,
        handle_admin_response
    ))
    
    # ... rest of code ...
